# ------------------------------------------------------------------------
# config.py
# ------------------------------------------------------------------------
import re
from typing import Optional, Tuple, List, Dict


# ------------------------------------------------------------------------
# PDF source settings
# ------------------------------------------------------------------------
# PDF_PATH: Optional[str] = None
# PASSWORD: Optional[str] = None


# ------------------------------------------------------------------------
# Table crop box
# ------------------------------------------------------------------------
TABLE_CROP_BOX: tuple[float, float, float, float] = (0, 200, 570, 700)


# ------------------------------------------------------------------------
# Page‐ID crop box
# ------------------------------------------------------------------------
PAGE_ID_CROP: tuple[float, float, float, float] = (283.2, 785.5, 340, 794.5)


# ------------------------------------------------------------------------
# Header‐field crop regions
# ------------------------------------------------------------------------
CROPS: dict[str, tuple[float, float, float, float]] = {
    "account_name": (420, 129.0, 550, 138.1),
}


# ------------------------------------------------------------------------
# Column‐split X‐coordinates and margins
# ------------------------------------------------------------------------
DATE_X_LEFT: float = 50.0
DATE_X_RIGHT: float = 70.0
SPLIT_X_CODE_CHANNEL: float = 80.0
SPLIT_X_CHANNEL_DEBIT_CREDIT: float = 411.0
SPLIT_X_WITHDRAWAL_DEPOSIT: float = 335.0
X_TOLERANCE: float = 1.0
Y_MARGIN: float = 3.0


# ------------------------------------------------------------------------
# Footer keywords
# ------------------------------------------------------------------------
FOOTER_KEYWORDS: list[str] = [
    "ยอดยกไป", "ยอดรวมรายการถอน", "ยอดรวมรายการฝาก",
    "Total Withdrawal", "Total Deposit", "Ending Balance"
]


# ------------------------------------------------------------------------
# MONEY_PATTERN (regex)
# ------------------------------------------------------------------------
MONEY_PATTERN = re.compile(
    r"""^              # start of string
        [\(\-]?        # optional “(” or “-” at the very beginning
        \d{1,3}        # one to three digits
        (?:,\d{3})*    # zero or more “,xxx” groups
        \.\d{2}        # a decimal point followed by exactly two digits
        [\)]?          # optional “)” at the very end
        $              # end of string
    """,
    re.VERBOSE
)


# ------------------------------------------------------------------------
# DATE_PATTERN (regex)
# ------------------------------------------------------------------------
DATE_PATTERN = re.compile(r"^\d{2}/\d{2}/(\d{2}|\d{4})")


# ------------------------------------------------------------------------
# TIME_PATTERN (regex)
# ------------------------------------------------------------------------
TIME_PATTERN = re.compile(r"^\d{2}:\d{2}$")


# ------------------------------------------------------------------------
# ACCOUNT_NUMBER_PATTERN (regex)
# ------------------------------------------------------------------------
ACCOUNT_NUMBER_PATTERN = re.compile(r"\b\d{9,12}\b")


# ------------------------------------------------------------------------
# PERIOD_PATTERN (regex)
# ------------------------------------------------------------------------
PERIOD_PATTERN = re.compile(r"\d{2}/\d{2}/\d{4}\s*-\s*\d{2}/\d{2}/\d{4}")
